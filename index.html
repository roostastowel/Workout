<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<meta name="theme-color" content="#0b0f14">
<title>Weekly Workout Schedule (iPhone Friendly)</title>
<style>
  :root{
    --bg:#0b0f14; --card:#121a24; --text:#e9eef6; --muted:#a9b4c2; --accent:#6ee7ff;
    --good:#7CFC98; --warn:#ffd479; --line:rgba(255,255,255,.08);
  }
  html,body{font-size:17px;margin:0;padding:0;background:var(--bg);color:var(--text);font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text",system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;}
  .wrap{max-width:920px;margin:0 auto;padding:20px 14px 40px;}
  h1{font-size:22px;margin:4px 0 8px;letter-spacing:.2px}
  .sub{color:var(--muted);font-size:13px;line-height:1.35;margin:0 0 14px}
  .pillrow{display:flex;flex-wrap:wrap;gap:8px;margin:12px 0 18px}
  .pill{border:1px solid var(--line);padding:8px 10px;border-radius:999px;color:var(--muted);font-size:12px}
  .pill b{color:var(--text);font-weight:600}
  .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px 14px 12px;margin:10px 0;box-shadow:0 6px 18px rgba(0,0,0,.25)}
  details{border-radius:12px}
  summary{list-style:none;cursor:pointer;display:flex;align-items:center;gap:10px}
  summary::-webkit-details-marker{display:none}
  .dow{display:flex;flex-direction:column;gap:2px}
  .dow .title{font-size:18px;font-weight:700}
  .dow .meta{font-size:13px;color:var(--muted)}
  .tag{margin-left:auto;font-size:12px;color:var(--muted);border:1px solid var(--line);padding:6px 9px;border-radius:999px}
  .tag.good{color:#0a1a10;background:var(--good);border-color:transparent}
  .tag.warn{color:#2a1a00;background:var(--warn);border-color:transparent}
  .section{margin-top:12px;padding-top:12px;border-top:1px solid var(--line)}
  .section h3{margin:0 0 8px;font-size:13px;letter-spacing:.35px;text-transform:uppercase;color:var(--muted)}
  ul{margin:8px 0 0 0;padding:0;list-style:none}
  li{display:flex;gap:10px;align-items:flex-start;padding:9px 0;border-bottom:1px dashed rgba(255,255,255,.08)}
  li:last-child{border-bottom:none}
  input[type="checkbox"]{width:18px;height:18px;margin-top:2px;accent-color:var(--accent)}
  .item{flex:1}
  .item .name{font-weight:650;font-size:16px}
  .item .cue{color:var(--muted);font-size:13px;line-height:1.35;margin-top:2px}
  .note{color:var(--muted);font-size:12px;line-height:1.45;margin-top:10px}
  .footer{color:var(--muted);font-size:12px;line-height:1.5;margin-top:16px}
  .kbd{font-family:ui-monospace,SFMono-Regular,Menlo,monospace;background:rgba(255,255,255,.08);padding:2px 6px;border-radius:6px}

  .resetbtn{
    background:rgba(255,255,255,.10);
    color:var(--text);
    border:1px solid var(--line);
    border-radius:999px;
    padding:10px 12px;
    font-size:13px;
    font-weight:650;
    cursor:pointer;
    -webkit-tap-highlight-color: transparent;
    min-width:110px;
  }
  .resetbtn:active{transform:scale(.98)}

</style>
</head>
<body>
<div class="wrap">
  <h1>Weekly Workout Schedule</h1>
  <p class="sub">
    Built around night shift (Tue–Sat, 10:00pm–6:30am), 2km freestyle swims (Mon 10:00am; Wed/Fri 6:45am), rowing Tue/Sat ~3:30pm,
    with Thu/Sun cycling. Includes daily quad sets before sleep (whenever “bed” is for you).
  </p>

  <div class="pillrow" style="align-items:center; justify-content:space-between; gap:10px">
    <div class="pill" style="flex:1"><b>Daily</b>: Quad sets <span class="kbd">2–3×10</span> before bed (3–5s hold, ~50–60% effort)</div>
    <button id="resetBtn" class="resetbtn" type="button" aria-label="Reset all checkboxes">Reset week</button>
  </div>
  <div class="pillrow" style="margin-top:8px">
    <div class="pill"><b>Rule</b>: Knee pain ↑ → reduce volume, keep form</div>
    <div class="pill"><b>Sleep</b>: Pillow between knees for side sleeping</div>
    <div class="pill" id="weekPill"><b>Week</b>: <span id="weekLabel">—</span></div>
  </div>

  <div class="pillrow">
    <div class="pill"><b>Daily</b>: Quad sets <span class="kbd">2–3×10</span> before bed (3–5s hold, ~50–60% effort)</div>
    <div class="pill"><b>Rule</b>: Knee pain ↑ → reduce volume, keep form</div>
    <div class="pill"><b>Sleep</b>: Pillow between knees for side sleeping</div>
  </div>

  <div class="card">
    <details open>
      <summary>
        <div class="dow">
          <div class="title">Monday</div>
          <div class="meta">Swim 10:00am + Nautilus strength (30–35 min)</div>
        </div>
        <div class="tag good">Anchor day</div>
      </summary>

      <div class="section">
        <h3>Swim (2 km)</h3>
        <ul>
          <li><input type="checkbox" id="cb-001" data-cb="cb-001"><div class="item"><div class="name">Freestyle 2 km (~45 min)</div><div class="cue">Rotate focus every 500m • hips lead • kick timed (not powerful)</div></div></li>
        </ul>
      </div>

      <div class="section">
        <h3>Nautilus strength</h3>
        <ul>
          <li><input type="checkbox" id="cb-002" data-cb="cb-002"><div class="item"><div class="name">Seated leg curl — 3×10–12</div><div class="cue">Slow return • feel hamstrings • stop short of lockout</div></div></li>
          <li><input type="checkbox" id="cb-003" data-cb="cb-003"><div class="item"><div class="name">Lat pulldown — 3×8–10</div><div class="cue">Neutral grip if available • elbows to ribs • no behind-neck pulls</div></div></li>
          <li><input type="checkbox" id="cb-004" data-cb="cb-004"><div class="item"><div class="name">Chest press — 3×8–10</div><div class="cue">Flat or slight incline • elbows slightly tucked • stop short of lockout</div></div></li>
          <li><input type="checkbox" id="cb-005" data-cb="cb-005"><div class="item"><div class="name">Hip abduction — 2×12–15</div><div class="cue">Pause briefly open • pelvis still • feel outer hips</div></div></li>
          <li><input type="checkbox" id="cb-006" data-cb="cb-006"><div class="item"><div class="name">Optional: Leg press (high feet) — 2×10</div><div class="cue">Only if knees feel good • feet high & slightly wide • light–moderate • no deep flexion, no lockout</div></div></li>
        </ul>
        <p class="note">Skip knee extension machine and adductor machine. Leave feeling better than you arrived.</p>
      </div>

      <div class="section">
        <h3>Before bed</h3>
        <ul>
          <li><input type="checkbox" id="cb-007" data-cb="cb-007"><div class="item"><div class="name">Quad sets — 2–3×10</div><div class="cue">3–5s hold • calm breathing • should feel “supported,” not “worked”</div></div></li>
        </ul>
      </div>
    </details>
  </div>

  <div class="card">
    <details>
      <summary>
        <div class="dow">
          <div class="title">Tuesday</div>
          <div class="meta">Local gym 3:30pm • Row + strength (~60 min)</div>
        </div>
        <div class="tag">Row day</div>
      </summary>

      <div class="section">
        <h3>Row</h3>
        <ul>
          <li><input type="checkbox" id="cb-008" data-cb="cb-008"><div class="item"><div class="name">Row 25–30 min</div><div class="cue">18–22 spm • damper 3–5 • heels → hips → arms • should feel glutes > knees</div></div></li>
        </ul>
      </div>

      <div class="section">
        <h3>Strength</h3>
        <ul>
          <li><input type="checkbox" id="cb-009" data-cb="cb-009"><div class="item"><div class="name">Hip hinge: RDL or hip thrust — 3×6–8</div><div class="cue">Glutes first • controlled reps • leave 1–2 reps in reserve</div></div></li>
          <li><input type="checkbox" id="cb-010" data-cb="cb-010"><div class="item"><div class="name">Single-leg control: step-downs or split squats — 2×6/side</div><div class="cue">Slow 3s lower • knee tracks straight • short range if needed</div></div></li>
          <li><input type="checkbox" id="cb-011" data-cb="cb-011"><div class="item"><div class="name">Lateral chain: side plank (top leg lift) — 2×20s</div><div class="cue">Hips stacked • no twisting</div></div></li>
          <li><input type="checkbox" id="cb-012" data-cb="cb-012"><div class="item"><div class="name">Optional: lat pulldown — 2×8–10</div><div class="cue">Only if time/energy</div></div></li>
        </ul>
      </div>

      <div class="section">
        <h3>Before bed</h3>
        <ul>
          <li><input type="checkbox" id="cb-013" data-cb="cb-013"><div class="item"><div class="name">Quad sets — 2–3×10</div><div class="cue">Calming, not max effort</div></div></li>
        </ul>
      </div>
    </details>
  </div>

  <div class="card">
    <details>
      <summary>
        <div class="dow">
          <div class="title">Wednesday</div>
          <div class="meta">Post-shift swim 6:45am + micro session (10–12 min)</div>
        </div>
        <div class="tag warn">Keep it short</div>
      </summary>

      <div class="section">
        <h3>Swim (2 km)</h3>
        <ul>
          <li><input type="checkbox" id="cb-014" data-cb="cb-014"><div class="item"><div class="name">Freestyle 2 km</div><div class="cue">Easy–moderate • no forcing speed post-shift</div></div></li>
        </ul>
      </div>

      <div class="section">
        <h3>Post-swim micro (10–12 min)</h3>
        <ul>
          <li><input type="checkbox" id="cb-015" data-cb="cb-015"><div class="item"><div class="name">Side-lying leg raises — 2×12/side</div><div class="cue">Hips stacked • slow</div></div></li>
          <li><input type="checkbox" id="cb-016" data-cb="cb-016"><div class="item"><div class="name">Terminal knee extensions (band) — 2×12</div><div class="cue">Straighten fully • smooth control</div></div></li>
          <li><input type="checkbox" id="cb-017" data-cb="cb-017"><div class="item"><div class="name">Plank or dead bug — 2×30s</div><div class="cue">Breathe • keep ribs down</div></div></li>
        </ul>
        <p class="note">Leave while you still feel good.</p>
      </div>

      <div class="section">
        <h3>Before bed</h3>
        <ul>
          <li><input type="checkbox" id="cb-018" data-cb="cb-018"><div class="item"><div class="name">Quad sets — 2–3×10</div><div class="cue">3–5s hold • calm breathing</div></div></li>
        </ul>
      </div>
    </details>
  </div>

  <div class="card">
    <details>
      <summary>
        <div class="dow">
          <div class="title">Thursday</div>
          <div class="meta">Bike (30–45 min) • active recovery</div>
        </div>
        <div class="tag good">Recovery</div>
      </summary>

      <div class="section">
        <h3>Bike</h3>
        <ul>
          <li><input type="checkbox" id="cb-019" data-cb="cb-019"><div class="item"><div class="name">Ride 30–45 min (easy–moderate)</div><div class="cue">Cadence 80–95 rpm • avoid grinding big gears • mostly flat</div></div></li>
        </ul>
        <p class="note">Knee-protect: seat slightly higher than “too low.” If anterior knee ache shows up, lower resistance + increase cadence.</p>
      </div>

      <div class="section">
        <h3>Before bed</h3>
        <ul>
          <li><input type="checkbox" id="cb-020" data-cb="cb-020"><div class="item"><div class="name">Quad sets — 2–3×10</div><div class="cue">Calming, not fatiguing</div></div></li>
        </ul>
      </div>
    </details>
  </div>

  <div class="card">
    <details>
      <summary>
        <div class="dow">
          <div class="title">Friday</div>
          <div class="meta">Post-shift swim 6:45am + micro session (~10 min)</div>
        </div>
        <div class="tag warn">Keep it short</div>
      </summary>

      <div class="section">
        <h3>Swim (2 km)</h3>
        <ul>
          <li><input type="checkbox" id="cb-021" data-cb="cb-021"><div class="item"><div class="name">Freestyle 2 km</div><div class="cue">Easy–moderate • focus on smoothness</div></div></li>
        </ul>
      </div>

      <div class="section">
        <h3>Post-swim micro (~10 min)</h3>
        <ul>
          <li><input type="checkbox" id="cb-022" data-cb="cb-022"><div class="item"><div class="name">Lateral walks (band) — 2×10 steps/dir</div><div class="cue">Band above knees for easiest • shins for default • slow steps</div></div></li>
          <li><input type="checkbox" id="cb-023" data-cb="cb-023"><div class="item"><div class="name">Quad sets — 2×10</div><div class="cue">3–5s hold • gentle effort</div></div></li>
          <li><input type="checkbox" id="cb-024" data-cb="cb-024"><div class="item"><div class="name">Gentle quad stretch — 20–30s/side</div><div class="cue">Light stretch only • should feel thigh, not knee</div></div></li>
        </ul>
      </div>

      <div class="section">
        <h3>Before bed</h3>
        <ul>
          <li><input type="checkbox" id="cb-025" data-cb="cb-025"><div class="item"><div class="name">Quad sets — 2–3×10</div><div class="cue">OK to do them twice today if it feels good</div></div></li>
        </ul>
      </div>
    </details>
  </div>

  <div class="card">
    <details>
      <summary>
        <div class="dow">
          <div class="title">Saturday</div>
          <div class="meta">Local gym 3:30pm • Row + strength (~60 min)</div>
        </div>
        <div class="tag">Row day</div>
      </summary>

      <div class="section">
        <h3>Row</h3>
        <ul>
          <li><input type="checkbox" id="cb-026" data-cb="cb-026"><div class="item"><div class="name">Row 20–25 min</div><div class="cue">Easy–moderate • smooth rhythm • glutes > knees</div></div></li>
        </ul>
      </div>

      <div class="section">
        <h3>Strength</h3>
        <ul>
          <li><input type="checkbox" id="cb-027" data-cb="cb-027"><div class="item"><div class="name">Box squat or goblet squat — 3×6–8</div><div class="cue">Sit back • stop before discomfort • bodyweight start is fine</div></div></li>
          <li><input type="checkbox" id="cb-028" data-cb="cb-028"><div class="item"><div class="name">DB overhead press — 3×8</div><div class="cue">Ribs down • smooth reps</div></div></li>
          <li><input type="checkbox" id="cb-029" data-cb="cb-029"><div class="item"><div class="name">Chest-supported row — 3×8</div><div class="cue">Squeeze shoulder blades • control</div></div></li>
          <li><input type="checkbox" id="cb-030" data-cb="cb-030"><div class="item"><div class="name">Pallof press / cable chop — 2×10</div><div class="cue">Anti-rotation • slow and steady</div></div></li>
        </ul>
      </div>

      <div class="section">
        <h3>Before bed</h3>
        <ul>
          <li><input type="checkbox" id="cb-031" data-cb="cb-031"><div class="item"><div class="name">Quad sets — 2–3×10</div><div class="cue">Calm effort • 3–5s holds</div></div></li>
        </ul>
      </div>
    </details>
  </div>

  <div class="card">
    <details>
      <summary>
        <div class="dow">
          <div class="title">Sunday</div>
          <div class="meta">Optional bike (45–75 min) or full rest</div>
        </div>
        <div class="tag good">Optional</div>
      </summary>

      <div class="section">
        <h3>Bike (optional)</h3>
        <ul>
          <li><input type="checkbox" id="cb-032" data-cb="cb-032"><div class="item"><div class="name">Ride 45–75 min (easy)</div><div class="cue">Flat/rolling • avoid hard hills • stop if knee starts talking</div></div></li>
        </ul>
      </div>

      <div class="section">
        <h3>OR rest</h3>
        <ul>
          <li><input type="checkbox" id="cb-033" data-cb="cb-033"><div class="item"><div class="name">Full rest day</div><div class="cue">Easy walking and mobility only if you feel like it</div></div></li>
        </ul>
      </div>

      <div class="section">
        <h3>Before bed</h3>
        <ul>
          <li><input type="checkbox" id="cb-034" data-cb="cb-034"><div class="item"><div class="name">Quad sets — 2–3×10</div><div class="cue">Calm, supportive finish to the week</div></div></li>
        </ul>
      </div>
    </details>
  </div>

  <p class="footer">
    <b>iPhone tip:</b> Open this file in Safari, tap Share → <span class="kbd">Add to Home Screen</span> to use it like an app.
    Checkboxes are persistent, but will reset every Monday.
  </p>
</div>

<script>
(function(){
  const STORAGE_KEY = "workout_checks_v1";
  const WEEK_KEY = "workout_week_v1";

  function getWeekKey(d){
    const date = new Date(d.getFullYear(), d.getMonth(), d.getDate());
    const day = (date.getDay() + 6) % 7; // Mon=0
    date.setDate(date.getDate() - day + 3); // Thu
    const firstThursday = new Date(date.getFullYear(), 0, 4);
    const firstDay = (firstThursday.getDay() + 6) % 7;
    firstThursday.setDate(firstThursday.getDate() - firstDay + 3);
    const weekNo = 1 + Math.round((date - firstThursday) / 604800000);
    const year = date.getFullYear();
    return `${year}-W${String(weekNo).padStart(2,"0")}`;
  }

  function loadState(){
    try { return JSON.parse(localStorage.getItem(STORAGE_KEY) || "{}"); }
    catch(e){ return {}; }
  }
  function saveState(state){
    localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
  }

  function bind(){
    let state = loadState();
    const wk = getWeekKey(new Date());
    const lastWk = localStorage.getItem(WEEK_KEY);
    if(lastWk !== wk){
      state = {};
      saveState(state);
      localStorage.setItem(WEEK_KEY, wk);
    }

    const weekLabel = document.getElementById("weekLabel");
    if(weekLabel) weekLabel.textContent = wk;

    document.querySelectorAll('input[type="checkbox"][data-cb]').forEach(cb => {
      cb.checked = !!state[cb.dataset.cb];
      cb.addEventListener('change', () => {
        state[cb.dataset.cb] = cb.checked;
        saveState(state);
      });
    });

    const resetBtn = document.getElementById("resetBtn");
    if(resetBtn){
      resetBtn.addEventListener('click', () => {
        if(!confirm("Reset all checkmarks for the week?")) return;
        state = {};
        saveState(state);
        localStorage.setItem(WEEK_KEY, wk);
        document.querySelectorAll('input[type="checkbox"][data-cb]').forEach(cb => cb.checked = false);
      });
    }
  }

  if(document.readyState === "loading"){
    document.addEventListener("DOMContentLoaded", bind);
  } else {
    bind();
  }

  if("serviceWorker" in navigator){
    window.addEventListener("load", () => {
      navigator.serviceWorker.register("./sw.js").catch(()=>{});
    });
  }
})();
</script>

</body>
</html>
